/*
 * styles/themes/themes月影禅城.css
 * Curated by Coco
 * Moonlight Zen City Theme
 * 融合日式庭院禅意与现代都市光影的超现实主题
 */

/* * =================================================================
 * 月影禅城主题 - 深色模式
 * 竹筒惊鹿的水滴波纹 + 玻璃幕墙动态倒影
 * =================================================================
 */
:root {
    /* --- Wallpaper Interface --- */
    --chat-wallpaper-dark: url('../../assets/wallpaper/月影禅城.jpeg');

    /* --- Base Colors --- */
    --primary-bg: #1a1a2e;      /* 深蓝夜空 */
    --secondary-bg: #16213e;       /* 侧边栏背景 */
    --tertiary-bg: #0f1419;         /* 聊天区背景 */
    --accent-bg: #2d4059;           /* 悬停/选中背景 */
    --border-color: #34495e;          /* 边框 - 月光银灰 */
    --input-bg: #222831;              /* 输入框背景 */

    --panel-bg-dark: rgba(22, 33, 62, 0.85); /* 增强磨砂效果 */

    /* --- Text Colors --- */
    --primary-text: #e0e0e0;        /* 主要文字 */
    --secondary-text: #b8b8b8;        /* 次要文字 */
    --highlight-text: #9b59b6;        /* 高亮文字 - 月光紫 */
    --text-on-accent: #ffffff;
    --placeholder-text: #6a6a6e;
    --quoted-text: #FFB74D;
    --user-text: #e0e0e0;
    --agent-text: #e0e0e0;

    /* --- Bubble Colors (Enhanced Frosted Glass) --- */
    --user-bubble-bg: rgba(52, 152, 219, 0.15); /* 用户气泡 - 玻璃蓝 */
    --assistant-bubble-bg: rgba(45, 64, 89, 0.12); /* AI气泡 - 夜空蓝 */
    
    /* --- Special Effects --- */
    --water-ripple-color: rgba(26, 188, 156, 0.3); /* 竹筒水滴波纹色 */
    --glass-reflection: linear-gradient(135deg, 
        rgba(52, 152, 219, 0.1) 0%,
        rgba(155, 89, 182, 0.08) 25%,
        rgba(231, 76, 60, 0.05) 50%,
        rgba(52, 152, 219, 0.15) 100%); /* 玻璃幕墙渐变 */

    /* --- UI Element Colors --- */
    --button-bg: #3498db;           /* 按钮 - 玻璃蓝 */
    --button-hover-bg: #2980b9;
    --danger-color: #e57373;
    --danger-hover-bg: #ef5350;
    --success-color: #66bb6a;
    --notification-bg: rgba(45, 64, 89, 0.9);
    --notification-header-bg: #2c3e50;
    --notification-border: #34495e;
    --tool-bubble-bg: rgba(58, 58, 62, 0.15);
    --tool-bubble-border: #9b59b6;

    /* --- Scrollbar --- */
    --scrollbar-track: rgba(40, 40, 40, 0.5);
    --scrollbar-thumb: rgba(100, 100, 100, 0.7);
    --scrollbar-thumb-hover: rgba(120, 120, 120, 0.6);

    /* --- Shimmer Effect --- */
    --shimmer-color-transparent: rgba(224, 224, 224, 0.408);
    --shimmer-color-highlight: rgba(224, 224, 224, 0.867);

    /* --- Text Shadow --- */
    --panel-text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);

    /* --- Unified Panel Background --- */
    --panel-bg: var(--panel-bg-dark);
}

body {
    background-image: var(--chat-wallpaper-dark);
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
}

/* * =================================================================
 * 竹筒惊鹿水滴波纹特效
 * =================================================================
 */
@keyframes waterRipple {
    0% { transform: scale(0.8); opacity: 0.8; }
    100% { transform: scale(1.2); opacity: 0; }
}

.water-ripple {
    position: absolute;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.ripple-circle {
    position: absolute;
    border: 2px solid var(--water-ripple-color);
    border-radius: 50%;
    animation: waterRipple 2s ease-out infinite;
}

/* * =================================================================
 * 玻璃幕墙动态倒影
 * =================================================================
 */
.glass-reflection {
    background: var(--glass-reflection);
    animation: reflectionShift 8s ease-in-out infinite;
}

@keyframes reflectionShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

/* * =================================================================
 * 增强磨砂玻璃效果
 * =================================================================
 */
.message-bubble {
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.message-bubble:hover {
    backdrop-filter: blur(20px) saturate(200%);
    -webkit-backdrop-filter: blur(20px) saturate(200%);
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
}

/* * =================================================================
 * 隐藏猫爪彩蛋系统
 * =================================================================
 */
.settings-panel::after {
    content: '';
    position: absolute;
    bottom: 10px;
    right: 10px;
    width: 20px;
    height: 20px;
    background: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20">
        <path fill=\"%23ffb6c1\" d=\"M6 10c0-1 1-2 2-2 1 0 2 1 2 2 0 1-1 2-2 2-1-1-2-2z M14 10c0-1 1-2 2-2 1 0 2 1 2 2 0 1-1 2-2 2-1-1-2-2z\"/>
    </svg>');
    opacity: 0;
    transition: opacity 0.3s ease;
}

.settings-panel:hover::after {
    opacity: 0.7;
}

/* 肉球风暴触发效果 */
@keyframes pawStorm {
    0% { transform: translateX(-100px) rotate(-10deg); }
    100% { transform: translateX(100vw) rotate(10deg); }
}

.paw-print {
    position: fixed;
    width: 24px;
    height: 24px;
    background: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24">
        <circle cx=\"8\" cy=\"8\" r=\"3\" fill=\"%23ffb6c1\"/>
        <circle cx=\"16\" cy=\"8\" r=\"3\" fill=\"%23ffb6c1\"/>
        <circle cx=\"12\" cy=\"16\" r=\"3\" fill=\"%23ffb6c1\"/>
    </svg>');
    animation: pawStorm 3s linear;
    pointer-events: none;
    z-index: 10000;
}